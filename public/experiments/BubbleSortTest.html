<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bubble Sort Test</title>
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
  <link href="../assets/css/main.css" rel="stylesheet" />
  <link rel="icon" href="../algodynamics_logo.svg" sizes="any" type="image/svg+xml">

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="../js/bubbleSortTest.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
    integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- Begin Jekyll SEO tag v2.8.0 -->
  <title>Bubble Sort Test</title>
  <meta name="generator" content="Jekyll v4.2.2" />
  <meta property="og:title" content="Bubble Sort Test" />
  <meta property="og:locale" content="en_US" />
  <meta name="description"
    content="Objective Apply Bubble Sort Algorithm on the given array to sort it using the provided controls. Please note that: You don’t apply any optimizations over original algorithm. Sorting of the array is the secondary objective.The primary objective is correct application of bubble sort algorithm." />
  <meta property="og:description"
    content="Objective Apply Bubble Sort Algorithm on the given array to sort it using the provided controls. Please note that: You don’t apply any optimizations over original algorithm. Sorting of the array is the secondary objective.The primary objective is correct application of bubble sort algorithm." />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2022-06-25T19:56:56+05:30" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="Bubble Sort Test" />
  <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-25T19:56:56+05:30","datePublished":"2022-06-25T19:56:56+05:30","description":"Objective Apply Bubble Sort Algorithm on the given array to sort it using the provided controls. Please note that: You don’t apply any optimizations over original algorithm. Sorting of the array is the secondary objective.The primary objective is correct application of bubble sort algorithm.","headline":"Bubble Sort Test","mainEntityOfPage":{"@type":"WebPage","@id":"/public/experiments/BubbleSortTest.html"},"url":"/public/experiments/BubbleSortTest.html"}</script>
  <!-- End Jekyll SEO tag -->

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-83QNS9V0VK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-83QNS9V0VK');
  </script>
</head>

<body class="flex flex-col h-screen overflow-hidden">
  <div class="flex bg-gray-800 text-white text-2xl font-medium py-2 px-3 items-center justify-between">

    Algodynamics Driving Test Study
    <div class="flex w-1/6 justify-end items-center">
      <h1 id="roll-num" className="text-base px-4 "></h1>
      <button id="full-scrn-btn" class="p-2"><i class="fa fa-arrows-alt" aria-hidden="true"></i>
      </button>
    </div>
  </div>

  <div class="flex-grow flex overflow-hidden">
    <div class="w-1/3 bg-gray-200 p-4 overflow-y-scroll">
      <div class="my-2 text-gray-700 prose">

        <h1 id="objective">Objective</h1>
        <p>Apply Bubble Sort Algorithm on the given array to sort it using the provided controls.
          Please note that:</p>
        <ol>
          <li>You should not apply any optimizations over the original algorithm i.e simulate the bubble sort algorithm
            to completion.</li>
          <li>Sorting of the array is the secondary objective. The primary objective is correct application of bubble
            sort algorithm.</li>
        </ol>

        <h1 id="variables-description">Variables Description</h1>

        <table>
          <thead>
            <tr>
              <th style="text-align: center">Variable</th>
              <th style="text-align: center">Data Type</th>
              <th style="text-align: center">Valid values</th>
              <th style="text-align: center">Initialization</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">i</td>
              <td style="text-align: center">int</td>
              <td style="text-align: center">[0,n)</td>
              <td style="text-align: center">0</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <td style="text-align: center">b</td>
              <td style="text-align: center">int</td>
              <td style="text-align: center">[0,n]</td>
              <td style="text-align: center">n</td>
            </tr>
          </tbody>
        </table>

        <p>where n is the length of the array.</p>

        <h1 id="controls-description">Controls Description</h1>

        <table>
          <thead>
            <tr>
              <th style="text-align: center">Control</th>
              <th style="text-align: center">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align: center">Increment i</td>
              <td style="text-align: center">Increments i by 1, if i &lt; n - 1</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <td style="text-align: center">Swap And Increment i</td>
              <td style="text-align: center">Swaps array[i] and array[i+1], and increments i by 1, if i &lt; n - 1</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <td style="text-align: center">Decrement b And Reset i</td>
              <td style="text-align: center">Decrements b by 1 and resets i to 0, if b &gt; 0</td>
            </tr>
          </tbody>
        </table>

        <h1 id="procedure">Procedure</h1>
        <ol>
          <li>Click on suitable control to simulate next step of bubble sort algorithm.</li>
          <li>You can do Undo,Redo,Reset by clicking on the respective buttons as per your need.</li>
          <li>Click on Submit button when you are done.</li>
        </ol>



      </div>
    </div>
    <div class="flex-grow flex w-2/3">
      <div id="elm-app-is-loaded-here"></div>
    </div>
  </div>
  <div id="footer" class="flex bg-gray-500 justify-center">
    <h3>
      Copyright © 2020-2022, Algodynamics
    </h3>
  </div>
  <script type="module">
    // Create Axios Client
    const client = axios.create({ baseURL: "https://lepkbux71j.execute-api.ap-south-1.amazonaws.com/Prod", });
    // console.log(client);
    // initialise variables
    let rollNo = null, runId = null, machineId = "BubbleSortDT";
    // Extract and check user ID from params
    const userId = new URLSearchParams(window.location.search).get('id');
    if (userId === null) {
      // Redirect to react app if no params
      window.location.href = "https://algodynamics-iiith.github.io/DT-study-frontend/home";
    }
    else {
      // save params to local storage and verify with backend
      localStorage.setItem("user_id", userId);
      let final = "/getAlgorithm/" + userId;
      await client
        .get(final)
        .then((response) => {
          // Got Roll Number
          rollNo = response.data.rollno;
          console.log(rollNo);
          document.getElementById("roll-num").innerHTML = rollNo;
          // Generate a run ID
          client
            .post("/createRun", JSON.stringify({ id: userId, machineId: machineId }))
            .then((response) => {
              console.log(response.data);
              runId = response.data.id;
              console.log(runId);
              var app = Elm.BubbleSortTest.init({
                node: document.getElementById("elm-app-is-loaded-here"),
              });
              app.ports.analytics.subscribe(function (message) {
                message.timestamp = Date.now();
                message.id = runId;
                console.log(message);
                client
                  .post("/updateRun", JSON.stringify(message))
                  .then((response) => {
                    console.log(response.data);
                  })
                  .catch((error) => {
                    window.alert("Error in sending data to backend, contact administrator!");
                  });
              });

            })
            .catch((error) => {
              // Run ID generation failed
              console.log(error);
              window.alert("Error in creating run id, Please contact administrator!");
            });


        })
        .catch((error) => {
          // Redirect to react app, as user Id was incorrect or something went wrong
          console.log(error);
          window.alert("Error : No Such user ID exists");
          window.location.href = "https://algodynamics-iiith.github.io/DT-study-frontend/home";
        });
    }

    const toggleFullScreen = () => {
      if (document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement) {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
          /* Safari */
          document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
          /* IE11 */
          document.msExitFullscreen();
        }
      } else {
        let elem = document.documentElement;
        if (elem.requestFullscreen) {
          elem.requestFullscreen({ navigationUI: "hide" });
        } else if (elem.webkitRequestFullscreen) {
          /* Safari */
          elem.webkitRequestFullscreen({ navigationUI: "hide" });
        } else if (elem.msRequestFullscreen) {
          /* IE11 */
          elem.msRequestFullscreen({ navigationUI: "hide" });
        }
      }
    };
    document.getElementById("full-scrn-btn").addEventListener('click', () => {
      toggleFullScreen();
    });
    window.alert("Enter Fullscreen! This test requires you to be in full screen mode");

    [
      "fullscreenchange",
      "webkitfullscreenchange",
      "mozfullscreenchange",
    ].forEach((fchange) =>
      document.addEventListener(fchange, () => {
        // if (isFullScreen) setIsFullScreen(false);
        // else
        if (document.fullscreenElement) { }
        else if (document.mozFullScreenElement) { }
        else if (document.webkitFullscreenElement) { }
        else {
          window.alert("Exiting Fullscreen! This test requires you to be in full screen mode");
        }
      }));

  </script>
</body>

</html>